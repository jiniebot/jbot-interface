# ==============================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ==============================================================================
# IMPORTANT: This file contains sensitive information. Never commit to Git!
# Copy this template to .env and fill in your actual values.
# ==============================================================================

# ------------------------------------------------------------------------------
# Server Configuration
# ------------------------------------------------------------------------------
NODE_ENV=production
PORT=3000

# ------------------------------------------------------------------------------
# Session Security (CRITICAL)
# ------------------------------------------------------------------------------
# Generate secure random strings using:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
# Requirements:
# - Minimum 32 characters (64 recommended)
# - Use different values for each secret
# - Rotate every 90 days
# - Store in secure vault in production

SESSION_SECRET=REPLACE_WITH_SECURE_RANDOM_64_CHAR_HEX_STRING
SESSION_CRYPTO_SECRET=REPLACE_WITH_ANOTHER_SECURE_RANDOM_64_CHAR_HEX_STRING

# ------------------------------------------------------------------------------
# Discord OAuth Configuration
# ------------------------------------------------------------------------------
# Update these in Discord Developer Portal:
# https://discord.com/developers/applications

DISCORD_CLIENT_ID=your_discord_client_id
DISCORD_CLIENT_SECRET=your_discord_client_secret
DISCORD_CALLBACK_URL=https://yourdomain.com/auth/callback

# ------------------------------------------------------------------------------
# Database Configuration
# ------------------------------------------------------------------------------
# MongoDB Connection String
# Use strong password and enable IP whitelist in MongoDB Atlas
# Format: mongodb+srv://username:password@cluster.mongodb.net/database?retryWrites=true&w=majority

MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/jiniebot?retryWrites=true&w=majority

# ------------------------------------------------------------------------------
# CORS Configuration
# ------------------------------------------------------------------------------
# Comma-separated list of allowed origins (no spaces)
# Include all domains/subdomains that will access your API
# Example: https://yourdomain.com,https://www.yourdomain.com,https://admin.yourdomain.com

ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ------------------------------------------------------------------------------
# Cookie Configuration
# ------------------------------------------------------------------------------
# Set to your root domain (with leading dot for subdomains)
# Example: .yourdomain.com (allows cookies on all subdomains)
# Leave empty for single domain

COOKIE_DOMAIN=.yourdomain.com

# ------------------------------------------------------------------------------
# SSL/TLS Configuration
# ------------------------------------------------------------------------------
# Uncomment if you want to force secure cookies even behind a reverse proxy
# (Usually not needed if NODE_ENV=production)
# SECURE_COOKIES=true

# ------------------------------------------------------------------------------
# Security Configuration (Optional)
# ------------------------------------------------------------------------------
# Trusted proxy IPs (if behind load balancer/reverse proxy)
# TRUSTED_PROXIES=127.0.0.1,::1

# Enable additional security features
# ENABLE_CSRF=true
# CSRF_SECRET=REPLACE_WITH_SECURE_RANDOM_STRING

# ------------------------------------------------------------------------------
# Logging Configuration (Optional)
# ------------------------------------------------------------------------------
# Log level: error, warn, info, debug
LOG_LEVEL=info

# Log file paths (optional, for file-based logging)
# LOG_FILE_PATH=/var/log/jiniebot/app.log
# ERROR_LOG_PATH=/var/log/jiniebot/error.log

# ------------------------------------------------------------------------------
# Rate Limiting Configuration (Optional - Override defaults)
# ------------------------------------------------------------------------------
# AUTH_RATE_LIMIT_MAX=5
# AUTH_RATE_LIMIT_WINDOW_MS=900000
# API_RATE_LIMIT_MAX=100
# API_RATE_LIMIT_WINDOW_MS=900000

# ------------------------------------------------------------------------------
# Monitoring & Analytics (Optional)
# ------------------------------------------------------------------------------
# SENTRY_DSN=your_sentry_dsn
# ANALYTICS_ID=your_analytics_id

# ==============================================================================
# DEPLOYMENT CHECKLIST
# ==============================================================================
# Before deploying to production:
# [ ] All REPLACE_WITH_* values filled in with actual secrets
# [ ] Secrets are strong (64+ characters for session secrets)
# [ ] Discord OAuth callback URL updated in Discord Developer Portal
# [ ] MongoDB IP whitelist configured
# [ ] ALLOWED_ORIGINS set to actual production domains
# [ ] SSL/TLS certificate installed and valid
# [ ] Firewall configured (ports 80, 443 only)
# [ ] This file added to .gitignore
# [ ] Backup of this configuration stored securely
# ==============================================================================
